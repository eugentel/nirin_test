# Автотестирование Meet and Greet

## CI/CD
Для запуска тестов предполагается использовать Github Actions. В режиме написания и отладки тестов используется запуск тестов и сценариев вручную. После проверки тестов предполагается их автоматический запуск по триггеру "on push".

## Запуск тестов вручную
Находясь в ветке main_eugen_new, выбрать вверху пункт "Actions", слева выбрать "Automated tests". Справа нажать "Run workflow", в выпадающем списке "Выберите тест" указать "test_api" или "test_admin" и нажать кнопку "Run workflow".

### Текуще состояние
1. На данный момент есть несколько трудностей. Еще не знаю, как одновременно запустить сервер Django и программу с тестами. Для такого случая предпочтительно использовать Django Test, но это требует дальнейшего изучения. 
2. Не срабатывает установка зависимостей (на локальной системе этот этап проходит успешно), надо разобраться с path.

## Запуск тестов на локальном компьютере
1. Склонировать репозитарий и запустить сервер по инструкции ниже из раздела "API Meet and Greet"
2. Получить и прописать секретный ключ "Django secret key"
3. Открыть проект в  IDE
4. Запустить тесты tests.py из каталога meetandgreet/mg/tests

   
# API Meet and Greet

Это API для компании Meet and Greet, который включает в себя API для всплывающего чата с ботом, поиска аэропортов, формы заполнения бронирований и т.д. API документация предоставляется с использованием Swagger.

## Клонирование и запуск репозитория

### Клонирование ветки 

```bash
git clone https://github.com/Odiosus/nirin
cd nirin
```

### Создание виртуального окружения

Рекомендуется использовать виртуальное окружение для установки зависимостей.

```bash
python -m venv venv
source venv/bin/activate  # Для Windows используйте команду venv\Scripts\activate
```

### Установка зависимостей

Установите необходимые пакеты с помощью pip.

```bash
pip install -r requirements.txt
```

### Настройка Django SECRET_KEY

Django требует наличия `SECRET_KEY` для обеспечения безопасности. Создайте файл `.env` в корне проекта и добавьте туда ваш `SECRET_KEY`.

1. Получите `SECRET_KEY`(он находится в самом начале чата DevCall в Telegram):

2. Создайте файл `.env` в корне проекта и добавьте туда:

    ```env
    SECRET_KEY=...
    ```

### Применение миграций и сборка статических файлов

Выполните команды для применения миграций и сбора статических файлов.

```bash
cd meetandgreet
python manage.py makemigrations
python manage.py migrate
python manage.py collectstatic
```

### Запуск сервера разработки

Запустите сервер разработки.

```bash
python manage.py runserver
```

Теперь вы можете перейти по адресу `http://127.0.0.1:8000/` для просмотра главной страницы вашего проекта.

## Swagger для API документации

Swagger предоставляет удобный интерфейс для взаимодействия с вашим API. Чтобы просмотреть документацию API, перейдите по адресу `http://127.0.0.1:8000/swagger/`.

Вы также можете использовать ReDoc для документации API по адресу `http://127.0.0.1:8000/redoc/`.

### Создание суперюзера и вход в админ-панель

Остановить локальный сервер, если он запущен (комбинация клавиш `ctr + C`)
Ввести команду

```bash
python manage.py createsuperuser
```
Ввести логин, электронную почту (можно пропустить нажав ENTER), пароль.

Запустите сервер разработки.

```bash
python manage.py runserver
```

Перейти по адресу `http://127.0.0.1:8000/admin/` для входа в админку.
Ввести ранее указанные логин и пароль
